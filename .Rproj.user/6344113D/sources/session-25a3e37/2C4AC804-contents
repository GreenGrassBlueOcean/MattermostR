# File: R/get_team_channels.R

#' Get the list of channels for a team
#'
#' @param auth A list containing `base_url` and `headers` for authentication.
#' @param team_id The ID of the team for which to retrieve channels.
#'
#' @return A data frame of channels with their IDs and names.
#' @export
#'
#' @seealso [get_channel_id_by_display_name()]
#'
#' @examples
#' \dontrun{
#' authenticate_mattermost()
#' teams <- list_all_teams()
#' team_channels <- get_team_channels(team_id = teams$id[1])
#' }
get_team_channels <- function(auth= authenticate_mattermost(), team_id = NULL) {

  if(is.null(team_id)){
    stop("team_id can not be empty or NULL")
  }

  endpoint <- paste0("/api/v4/teams/", team_id, "/channels")

  # Send the request to get channels
  channels_data <- mattermost_api_request(auth, endpoint, method = "GET")

  return(channels_data)
}

# File: R/check_mattermost_status.R

#' Check if the Mattermost server is online
#'
#' @param verbose Boolean. If `TRUE`, the function will print request/response details for more information.
#' @param auth A list containing `base_url` and `headers` for authentication.
#'
#' @return TRUE if the server is online; FALSE otherwise.
check_mattermost_status <- function(verbose = TRUE, auth = authenticate_mattermost()) {
  endpoint <- "/api/v4/system/ping"

  # Perform the request
  response <- mattermost_api_request(auth, endpoint, method = "GET", verbose = verbose)

  # Check the response status code
  if (!is.null(response) && response$status == "OK") {
    return(TRUE)  # Server is online
  } else {
    return(FALSE)  # Server is offline or encountered an error
  }
}
